<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      #59 (variable bindings on redo)
     â€“ Kahina
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search" />
        <link rel="prev" href="58" title="Ticket #58" />
        <link rel="last" href="108" title="Ticket #108" />
        <link rel="help" href="../wiki/TracGuide" />
        <link rel="alternate" href="http://kahina.org/trac/ticket/59?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="http://kahina.org/trac/ticket/59?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="http://kahina.org/trac/ticket/59?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="up" href="http://kahina.org/trac/report/8?asc=1&amp;USER=anonymous&amp;page=1" />
        <link rel="next" href="61" title="Ticket #61" />
        <link rel="start" href="http://kahina.org/trac/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="41" title="Ticket #41" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Kahina" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="00fe153a5b0a18fa197a0157";
      var comments_prefs={"comments_only":"false","comments_order":"oldest"};
    </script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/folding.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/wikitoolbar.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/resizer.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/auto_preview.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript" src="../chrome/common/js/threaded_comments.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
      /*<![CDATA[*/
        $("#attachments").toggleClass("collapsed");
        $("#trac-up-attachments").click(function () {
          $("#attachments").removeClass("collapsed");
          return true;
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
        function setRevertHandler() {
          $("button.trac-revert").click(function() {
            var div = $("div", this);
            var field_name = div[0].id.substr(7);
            var field_value = div.text();
            var input = $("#propertyform *[name=field_" + field_name + "]");
            if (input.length > 0) {
              if (input.filter("input[type=radio]").length > 0) {
                input.val([field_value]);
              } else if (input.filter("input[type=checkbox]").length > 0) {
                input.val(field_value == "1" ? [field_value] : []);
              } else {
                input.val(field_value);
              }
            } else { // Special case for CC checkbox
              input = $("#propertyform input[name=cc_update]").val([]);
            }
            input.change();
            $(this).closest("li").remove();
            return false;
          });
        }
        setRevertHandler();
        var comment_focused = false;
        $("#comment").focus(function() { comment_focused = true; })
                     .blur(function() { comment_focused = false; });
        $("#propertyform").autoSubmit({preview: '1'}, function(data, reply) {
          var items = $(reply);
          // Update ticket box
          $("#ticket").replaceWith(items.filter('#ticket'));
          // Unthread, unrevert and update changelog
          if (!$('#trac-comments-oldest').checked())
            $('#trac-comments-oldest').click().change();
          $("#changelog").replaceWith(items.filter("#changelog"));
          if ($('#trac-comments-only-toggle').attr('checked'))
            $('#trac-comments-only-toggle').click().attr('checked', true);
          // Show warning
          var new_changes = $("#changelog .trac-new");
          $("#trac-edit-warning").toggle(new_changes.length != 0);
          if (new_changes.length != 0)
            $("#changelog").parent().show().removeClass("collapsed");
          // Update view time
          $("#propertyform input[name='view_time']").replaceWith(items.filter("input[name='view_time']"));
          // Update preview
          var preview = $("#ticketchange").html(items.filter('#preview').children());
          var show_preview = preview.children().length != 0;
          $("#ticketchange").toggle(show_preview);
          setRevertHandler();
          // Collapse property form if comment editor has focus
          if (show_preview && comment_focused)
            $("#modify").parent().addClass("collapsed");
          // Execute scripts to load stylesheets
          items.filter("script").appendTo("head");
        }, "#ticketchange .trac-loading");
        $("#trac-comment-editor").autoSubmit({preview_comment: '1'}, function(data, reply) {
          var comment = $("#trac-comment-editor").next("div.comment").html(reply);
          comment.toggle(comment.children().length != 0);
        }, "#changelog .trac-loading");
        /*]]>*/
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../index.html"><img src="../chrome/site/kahina-logo.png" alt="Kahina" height="68" width="195" /></a>
      </div>
      <form id="search" action="../search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://kahina.org/trac/login">Login</a></li><li><a href="../wiki/TracGuide">Help/Guide</a></li><li><a href="../about">About Trac</a></li><li class="last"><a href="../prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="http://kahina.org/trac/wiki">Wiki</a></li><li><a href="../timeline">Timeline</a></li><li><a href="../roadmap">Roadmap</a></li><li class="active"><a href="../report">View Tickets</a></li><li class="last"><a href="../search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="58" title="Ticket #58">Previous Ticket</a></span></li><li><a href="http://kahina.org/trac/report/8?asc=1&amp;USER=anonymous&amp;page=1">Back to Query</a></li><li class="last"><span><a class="next" href="61" title="Ticket #61">Next Ticket</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
        <div id="ticket" class="trac-content ">
  <div class="date">
    <p>Opened <a class="timeline" href="http://kahina.org/trac/timeline?from=2010-11-07T12%3A31%3A43%2B01%3A00&amp;precision=second" title="See timeline at Nov 7, 2010, 12:31:43 PM">8 years ago</a></p>
    <p>Last modified <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-12-12T23%3A21%3A48%2B01%3A00&amp;precision=second" title="See timeline at Dec 12, 2011, 11:21:48 PM">7 years ago</a></p>
  </div>
  <h2>
    <a href="59" class="trac-id">#59</a>
    <span class="trac-status">
      <a href="http://kahina.org/trac/query?status=new">new</a>
    </span>
    <span class="trac-type">
      <a href="http://kahina.org/trac/query?status=!closed&amp;type=defect">defect</a>
    </span>
  </h2>
  <h1 id="trac-ticket-title" class="searchable">
    <span class="summary">variable bindings on redo</span>
  </h1>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable"><a href="http://kahina.org/trac/query?status=!closed&amp;reporter=ke">ke</a></td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner"><a href="http://kahina.org/trac/query?status=!closed&amp;owner=ke">ke</a></td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="http://kahina.org/trac/query?status=!closed&amp;priority=minor">minor</a>
        </td>
        <th id="h_milestone" class="missing">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="missing milestone"></a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="http://kahina.org/trac/query?status=!closed&amp;component=kahina-swi">kahina-swi</a>
        </td>
        <th id="h_version" class="missing">
          Version:
        </th>
        <td headers="h_version">
              <a href="http://kahina.org/trac/query?status=!closed&amp;version="></a>
        </td>
    </tr><tr>
        <th id="h_keywords" class="missing">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
        <th id="h_cc" class="missing">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Something's wrong with variable bindings. On consulting the attached mergetest.pl, in the first redo of step 2, the Zs variable is shown as containing weird stuff. The system crashes in the next step. The crash can be circumvented by commenting out the first clause of send_bindings/4, but then no variable bindings are shown at all.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h3 class="foldable">Attachments <span class="trac-count">(2)</span></h3>
        <div class="attachments">
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/59/merge.pl" title="View attachment">merge.pl</a><a href="../raw-attachment/ticket/59/merge.pl" class="trac-rawlink" title="Download">â€‹</a>
       (<span title="223 bytes">223 bytes</span>) -
      added by <em>ke</em> <a class="timeline" href="http://kahina.org/trac/timeline?from=2010-11-07T12%3A31%3A55%2B01%3A00&amp;precision=second" title="See timeline at Nov 7, 2010, 12:31:55 PM">8 years ago</a>.
  </dt>
              <dt>
    <a href="../attachment/ticket/59/mergetest.pl" title="View attachment">mergetest.pl</a><a href="../raw-attachment/ticket/59/mergetest.pl" class="trac-rawlink" title="Download">â€‹</a>
       (<span title="143 bytes">143 bytes</span>) -
      added by <em>ke</em> <a class="timeline" href="http://kahina.org/trac/timeline?from=2010-11-07T12%3A32%3A11%2B01%3A00&amp;precision=second" title="See timeline at Nov 7, 2010, 12:32:11 PM">8 years ago</a>.
  </dt>
          </dl>
          <p>
            Download all attachments as: <a rel="nofollow" href="../zip-attachment/ticket/59/index.html">.zip</a>
          </p>
          
        </div>
    </div>

        <div>
          <div style="position: relative">
            <form id="prefs" method="get" action="../prefs" style="position: absolute; right: 0">
              <div id="trac-comments-order">
                <input type="radio" id="trac-comments-oldest" name="trac-comments-order" value="oldest" checked="checked" />
                <label for="trac-comments-oldest">Oldest first</label>
                <input type="radio" id="trac-comments-newest" name="trac-comments-order" value="newest" />
                <label for="trac-comments-newest">Newest first</label>
                <span id="trac-threaded-toggle" style="display: none">
                  <input type="radio" id="trac-comments-threaded" name="trac-comments-order" value="threaded" />
                  <label for="trac-comments-threaded">Threaded</label>
                </span>
              </div>
              <div>
                <input id="trac-comments-only-toggle" type="checkbox" />
                <label for="trac-comments-only-toggle">Comments only</label>
              </div>
            </form>
          </div>
          <h3 class="foldable">Change History <span class="trac-count">(9)</span></h3>
          <div id="changelog">
              <div class="change">
                
  <h3 class="change">
    <span class="threading">
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2010-11-07T12%3A31%3A55%2B01%3A00&amp;precision=second" title="See timeline at Nov 7, 2010, 12:31:55 PM">8 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-attachment">
      <strong class="trac-field-attachment">Attachment</strong>
        <a href="../attachment/ticket/59/merge.pl"><em>merge.pl</em></a><a href="../raw-attachment/ticket/59/merge.pl" title="Download" class="trac-rawlink">â€‹</a>
          added
    </li>
  </ul>

              </div>
              <div class="change">
                
  <h3 class="change">
    <span class="threading">
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2010-11-07T12%3A32%3A11%2B01%3A00&amp;precision=second" title="See timeline at Nov 7, 2010, 12:32:11 PM">8 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-attachment">
      <strong class="trac-field-attachment">Attachment</strong>
        <a href="../attachment/ticket/59/mergetest.pl"><em>mergetest.pl</em></a><a href="../raw-attachment/ticket/59/mergetest.pl" title="Download" class="trac-rawlink">â€‹</a>
          added
    </li>
  </ul>

              </div>
              <div class="change" id="trac-change-1-1302038501000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:1" class="cnum">
    <a href="59#comment:1">comment:1</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-04-05T23%3A21%3A41%2B02%3A00&amp;precision=second" title="See timeline at Apr 5, 2011, 11:21:41 PM">8 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
<a class="ext-link" href="https://lists.iai.uni-bonn.de/pipermail/swi-prolog/2011/006364.html"><span class="icon">â€‹</span>https://lists.iai.uni-bonn.de/pipermail/swi-prolog/2011/006364.html</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2-1309711477000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:2" class="cnum">
    <a href="59#comment:2">comment:2</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-07-03T18%3A44%3A37%2B02%3A00&amp;precision=second" title="See timeline at Jul 3, 2011, 6:44:37 PM">8 years ago</a> by xrumer
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-summary">
      <strong class="trac-field-summary">Summary</strong>
        changed from <em>Kahina for SWI-Prolog: variable bindings on redo</em> to <em>Xrumer Forums</em>
    </li>
  </ul>
    <div class="comment searchable">
      <p>
In need of <a class="ext-link" href="http://xrchat.info/forums/xrumer-files/"><span class="icon">â€‹</span>Xrumer files</a>? check out the Xrchat forums!
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3-1309936179000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:3" class="cnum">
    <a href="59#comment:3">comment:3</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-07-06T09%3A09%3A39%2B02%3A00&amp;precision=second" title="See timeline at Jul 6, 2011, 9:09:39 AM">8 years ago</a> by TarasBulba
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-cc">
      <strong class="trac-field-cc">Cc</strong>
        <em>Queens</em> added
    </li><li class="trac-field-summary">
      <strong class="trac-field-summary">Summary</strong>
        changed from <em>Xrumer Forums</em> to <em>Edgewall750 Software233</em>
    </li>
  </ul>
    <div class="comment searchable">
      <p>
<a class="ext-link" href="http://www.edgewall.com/"><span class="icon">â€‹</span>Edgewall571 Software9823</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4-1309957290000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:4" class="cnum">
    <a href="59#comment:4">comment:4</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-07-06T15%3A01%3A30%2B02%3A00&amp;precision=second" title="See timeline at Jul 6, 2011, 3:01:30 PM">8 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-cc">
      <strong class="trac-field-cc">Cc</strong>
        <em>Queens</em> removed
    </li><li class="trac-field-summary">
      <strong class="trac-field-summary">Summary</strong>
        changed from <em>Edgewall750 Software233</em> to <em>Kahina for SWI-Prolog: variable bindings on redo</em>
    </li>
  </ul>

              </div>
              <div class="change" id="trac-change-5-1309996322000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:5" class="cnum">
    <a href="59#comment:5">comment:5</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-07-07T01%3A52%3A02%2B02%3A00&amp;precision=second" title="See timeline at Jul 7, 2011, 1:52:02 AM">8 years ago</a> by kazrp
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
<a class="ext-link" href="http://www.princetoninternetmarketing.com/strategic-internet-marketing-consultants/pay-per-click-advertising/"><span class="icon">â€‹</span>internet marketing</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6-1323380871000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:6" class="cnum">
    <a href="59#comment:6">comment:6</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-12-08T22%3A47%3A51%2B01%3A00&amp;precision=second" title="See timeline at Dec 8, 2011, 10:47:51 PM">7 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-owner">
      <strong class="trac-field-owner">Owner</strong>
        changed from <em>somebody</em> to <em>ke</em>
    </li><li class="trac-field-priority">
      <strong class="trac-field-priority">Priority</strong>
        changed from <em>major</em> to <em>minor</em>
    </li>
  </ul>

              </div>
              <div class="change" id="trac-change-7-1323728508000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:7" class="cnum">
    <a href="59#comment:7">comment:7</a>
  </span>
    </span>
        Changed <a class="timeline" href="http://kahina.org/trac/timeline?from=2011-12-12T23%3A21%3A48%2B01%3A00&amp;precision=second" title="See timeline at Dec 12, 2011, 11:21:48 PM">7 years ago</a> by ke
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-component">
      <strong class="trac-field-component">Component</strong>
        changed from <em>core</em> to <em>kahina-swi</em>
    </li><li class="trac-field-summary">
      <strong class="trac-field-summary">Summary</strong>
        changed from <em>Kahina for SWI-Prolog: variable bindings on redo</em> to <em>variable bindings on redo</em>
    </li>
  </ul>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://kahina.org/trac/ticket/59?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="http://kahina.org/trac/ticket/59?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="http://kahina.org/trac/ticket/59?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about"><strong>Trac 1.0.9</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>