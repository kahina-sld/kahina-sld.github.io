<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      InstallTraleSLD – Kahina
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search" />
        <link rel="help" href="TracGuide" />
        <link rel="alternate" href="http://kahina.org/trac/wiki/InstallTraleSLD?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://kahina.org/trac/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Kahina" />
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../index.html"><img src="../chrome/site/kahina-logo.png" alt="Kahina" height="68" width="195" /></a>
      </div>
      <form id="search" action="../search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://kahina.org/trac/login">Login</a></li><li><a href="TracGuide">Help/Guide</a></li><li><a href="../about">About Trac</a></li><li class="last"><a href="../prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://kahina.org/trac/wiki">Wiki</a></li><li><a href="../timeline">Timeline</a></li><li><a href="../roadmap">Roadmap</a></li><li><a href="../report">View Tickets</a></li><li class="last"><a href="../search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://kahina.org/trac/wiki">wiki:</a><a class="pathentry" href="InstallTraleSLD" title="View InstallTraleSLD">InstallTraleSLD</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><a href="WikiStart">Start Page</a></li><li><a href="TitleIndex">Index</a></li><li class="last"><a href="http://kahina.org/trac/wiki/InstallTraleSLD?action=history">History</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="InstallingKahinaforTRALE">Installing Kahina for TRALE</h1>
<h2 id="Dependencies">Dependencies</h2>
<p>
To obtain, build and run Kahina for TRALE, you need:
</p>
<ul><li>SICStus Prolog 3 or 4, with Jasper installed (see below)
</li><li>access to the TRALE repository (ask <a class="ext-link" href="http://www.cs.toronto.edu/~gpenn/"><span class="icon">​</span>Gerald Penn</a>)
</li><li><a class="ext-link" href="http://subversion.apache.org/"><span class="icon">​</span>Subversion</a>
</li><li><a class="ext-link" href="http://www.gnu.org/software/make/"><span class="icon">​</span>GNU Make</a> or similar
</li><li><a class="ext-link" href="https://ant.apache.org/"><span class="icon">​</span>Apache Ant</a>
</li></ul><h2 id="InstallingSICStusPrologwithJasper">Installing SICStus Prolog with Jasper</h2>
<p>
TRALE requires <a class="ext-link" href="http://www.sics.se/sicstus"><span class="icon">​</span>SICStus Prolog</a>, so you need to buy a license and install it if you have not done so already. It supports SICStus Prolog 3 (SP3) and, experimentally, SICStus Prolog 4 (SP4).
</p>
<p>
Kahina for TRALE also requires that the existing installation of SICStus Prolog include the Prolog-Java interface <a class="ext-link" href="http://www.sics.se/sicstus/docs/latest4/html/sicstus.html/lib_002djasper.html#lib_002djasper"><span class="icon">​</span>Jasper</a>, set up with a version 6 or higher Java Development Kit (JDK).
</p>
<p>
You may have to modify your <tt>LD_LIBRARY_PATH</tt> before installation to ensure SICStus Prolog can find <tt>libjvm.so</tt>. Under Ubuntu 13.04, I added this line to my <tt>~/.bashrc</tt>:
</p>
<pre class="wiki">export LD_LIBRARY_PATH=/usr/lib/jvm/java-7-openjdk-i386/jre/lib/i386/client:$LD_LIBRARY_PATH
</pre><p>
The successful installation then looked like this (a successful run of the SP4 installation script looks similar):
</p>
<pre class="wiki">ke@apis:~/install/sp-3.12.11-x86-linux-glibc2.5$ ./InstallSICStus --all-questions
				   
		      SICStus Prolog Release 3
		      ========================
				   
		      http://www.sics.se/sicstus/
				   
	       ---------------------------------------
	       Binary Distribution Installation Script
	       ---------------------------------------

This script will install SICStus Prolog 3.12.11 on your computer. Before
proceeding, make sure that you have downloaded the correct
distribution and that you have your licensing information at hand, as
you will be prompted for site-name, license code, and expiration date
during the installation.

It is also recommended that you read the Release Notes before installing
SICStus Prolog. The Release Notes can be found online at

	     http://www.sics.se/sicstus/docs/

During the installation, a cache-file (install.cache) will be created
which will store your answers to be used as defaults if you need to
run the installation script again. You may safely delete this file if
you wish.

The installation script will ask a couple of questions regarding the
installation. Most of these questions have a default alternative in
square brackets ([]). Pressing return will give you the default
answer. If you do not understand the question, the default answer will
usually do what you want.

Note: You must have Perl installed and available in your PATH. Perl is
      available for free from www.cpan.org. Typically Perl is already
      installed.

Report bugs and other problems to SICStus Support using

	 http://www.sics.se/sicstus/bugreport/bugreport.html


Install SICStus Prolog 3.12.11 [yes] ? 

Checking installation cache... install.cache

Where do you want to install SICStus [/home/ke] ? 

Creating uninstall script...
Decrypt key [xxxxxxxxxxxx] ? 

You should now enter your site-name, license-code, and expiration date.

Sitename [Kilian Personal] ? 
License-code [xxxx-xxxx-xxxx-xxxx-xxxx] ? 
Expiration date [permanent] ? 
Install the pre-built binaries (chose "no" for full installation, or "help") [no] ? 

The script will now ask you for some information about external
software packages. If you leave the answers blank, the script will try
to determine the information automatically.

Do you wish to install the Tcl/Tk interface (library(tcltk)) [no] ? 

Do you wish to install Jasper (the Java interface) [yes] ? 
For the Java interface you should now specify the 'installation path' of
the Java installation. E.g. if the path to the java compiler is
/usr/local/jdk/bin/javac, the 'installation path' is probably /usr/local/jdk.
Note that this is somewhat platform dependent. In case of problems you should
consult the installation instructions for your Java installation to find out
what the 'installation path' is.
Specify JDK installation path, e.g., /usr/jdk1.2.2 (or leave blank) [/usr/jdk1.2.2] ? /usr/lib/jvm/java-7-openjdk-i386

(This information is displayed regardless of the JDK installation path specified.)
NOTE: About JDK 1.3.X and later

Read *important* compatibility information in the release notes
in Section "Supported Java Versions".

NOTE: About Java location.

By default the location of Java is embedded in the SICStus development
system executable (sicstus) or the jasper foreign resource. This makes
it possible for library(jasper) to find the Java libraries (e.g.,
libjvm.so) without setting LD_LIBRARY_PATH. See the release
notes.

Embed JDK paths for library(jasper) (recommended) [yes] ? 

Do you wish to install the Berkeley DB module (library(bdb)).  [no] ? 
Specify the path to your C compiler (or leave blank) ? 
Specify the path to your C++ compiler (or leave blank) ? 

***************************************************************
The installation will proceed without further user interaction,
unless there are errors.
***************************************************************


Configuring system. This may take a few minutes...  done.
Installation package was built for Glibc 2.5.
This systems uses Glibc 2.17.
 
SICStus is built and distributed for several versions of Glibc.
If there is a version of the SICStus installation package
corresponding to the version of Glibc installed on your machine,
you should use that installation package.
 
Attempt an installation anyway [no] ? yes
Continuing despite wrong Glibc version...

Decrypting sicstus.tar.compress.crypt... 
ok.
Unpacking sicstus.tar... (please wait) ok.

Copying files to /home/ke. This may take a few minutes...  Installing documentation into /home/ke/lib/sicstus-3.12.11
done.

Creating development system symlinks...

Creating development system binary...
done.

Creating copies of SICStus run-time for multiple run-time support

Creating spdet and spxref...
done.

Creating save-dumps...
done.

Compiling license file...

Performing final link step for the Jasper module...
Linking jasper.so... ok.
Linking jasper.s.o... ok.
Creating libspnative.so... ok.

Completing uninstall info...

Cleaning up... 

Installation complete.

The SICStus development system has been installed as:
   /home/ke/bin/sicstus

The documentation can be accessed locally by opening the URL:

   file:/home/ke/lib/sicstus-3.12.11/doc/html/

or on the SICStus website:

   http://www.sics.se/sicstus/docs/

Uninstall by running /home/ke/install/sp-3.12.11-x86-linux-glibc2.5/UnInstallSICStus
</pre><h2 id="ObtainingTRALE">Obtaining TRALE</h2>
<p>
Current versions of <a class="ext-link" href="http://www.ale.cs.toronto.edu/docs/"><span class="icon">​</span>TRALE</a> contain a new version of <a class="ext-link" href="http://www.ale.cs.toronto.edu/docs/man/ale_trale_man/ale_trale_man-node70.html"><span class="icon">​</span>TRALE's source-level debugger</a>, called trale-sld, that uses Kahina as a GUI. Check out the latest version of TRALE from the Subversion repository. To do so, open a shell, go to the directory under which you want your TRALE installation to live, and then run:
</p>
<pre class="wiki">svn checkout svn+ssh://ale@syntax.cs.toronto.edu/dev/trunk trale
</pre><p>
This will create a directory called <tt>trale</tt> and checkout TRALE into it.
</p>
<p>
<strong>Note: As of this writing, <a class="ext-link" href="http://hpsg.fu-berlin.de/bz/show_bug.cgi?id=98"><span class="icon">​</span>a bug</a> prevents trale-sld from working when SICStus Prolog 3 is used. You may try to use an older TRALE revision by passing the option <tt>-r 260</tt> to the svn checkout command to work around this for the moment.</strong>
</p>
<h2 id="ObtainingKahina">Obtaining Kahina</h2>
<p>
Now run:
</p>
<pre class="wiki">cd trale
git clone https://github.com/texttheater/kahina
</pre><p>
This will create a directory <tt>kahina</tt> inside the <tt>trale</tt> directory.
</p>
<h2 id="BuildingKahina">Building Kahina</h2>
<p>
After checking out TRALE, go into the <tt>trale</tt> directory and run:
</p>
<pre class="wiki">make kahina-build
</pre><p>
The first time, this will fail and instruct you to create a file <tt>build.properties</tt> in the <tt>kahina</tt> subdirectory, pointing to the <tt>jasper.jar</tt> file of your SICStus Prolog installation. Follow the instructions, then just re-run the command.
</p>
<h2 id="UpdatingKahinatoanewversion">Updating Kahina to a new version</h2>
<p>
Whenever a new version of Kahina is released, you can obtain it from the <tt>trale/kahina</tt> directory like this:
</p>
<pre class="wiki">git pull
</pre><p>
Then, from the <tt>trale</tt> directory, run:
</p>
<pre class="wiki">make kahina-build
</pre><h2 id="UsingTRALEwithKahina">Using TRALE with Kahina</h2>
<p>
You start TRALE from the command-line by running the <tt>trale</tt> script found in the <tt>trale</tt> directory. Before running it, make sure that the environment variable <tt>TRALE_HOME</tt> is either not set or set to the path of the <tt>trale</tt> directory.
</p>
<h2 id="Firststeps">First steps</h2>
<p>
After starting TRALE using <tt>trale</tt>, activate the debugger by setting the <tt>debugger</tt> flag to <tt>on</tt>:
</p>
<pre class="wiki">ale_flag(debugger,_,on).
</pre><p>
You can try if it works by using the predicates <tt>dcompile_gram/1</tt> to compile a TRALE grammar and <tt>drec/1</tt> to parse a sentence, or (experimentally) <tt>dquery/1</tt> to resolve a query in the ALE programming language. Each of these commands should bring up the Kahina GUI (you can read more about their function and usage <a class="ext-link" href="http://ale.cs.toronto.edu/docs/man/ale_trale_man/ale_trale_man-node70.html"><span class="icon">​</span>in the TRALE documentation</a>). Alternatively, you can just ask the following query:
</p>
<pre class="wiki">dgo.
</pre><p>
This will start the GUI but make the Prolog prompt inaccessible, in return giving you the possibility to start compilation processes and parsing via the <strong>Parse</strong> menu in the GUI. Closing the GUI will return you to the Prolog prompt. You can do this at any time while debugging, resulting in the abortion of the current compilation/parsing/query resolution process.
</p>
<h2 id="UsingTRALEsXEmacs-baseddebugger">Using TRALE's XEmacs-based debugger</h2>
<p>
TRALE's Kahina-based source-level debugger is the successor of an older XEmacs-based source-level debugger, which is still available by setting the <tt>TRALE_DEBUGGER</tt> environment variable to <tt>xemacs</tt> before starting TRALE, like so:
</p>
<pre class="wiki">export TRALE_DEBUGGER=xemacs
trale
</pre></div>
          
          <div class="trac-modifiedby">
            <span><a href="http://kahina.org/trac/wiki/InstallTraleSLD?action=diff&amp;version=23" title="Version 23 by ke: Fixed commands related to Kahina repository, switched to Git">Last modified</a> <a class="timeline" href="http://kahina.org/trac/timeline?from=2017-08-04T23%3A56%3A51%2B02%3A00&amp;precision=second" title="See timeline at Aug 4, 2017, 11:56:51 PM">19 months ago</a></span>
            <span class="trac-print">Last modified on Aug 4, 2017, 11:56:51 PM</span>
          </div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://kahina.org/trac/wiki/InstallTraleSLD?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about"><strong>Trac 1.0.9</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>