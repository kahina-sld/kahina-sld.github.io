<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Fri Jul 24 01:39:12 CEST 2015 -->
<title>TreeAutomaton</title>
<meta name="date" content="2015-07-24">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TreeAutomaton";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/kahina/core/data/agent/patterns/PatternFormatException.html" title="class in org.kahina.core.data.agent.patterns"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomatonRule.html" title="class in org.kahina.core.data.agent.patterns"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/kahina/core/data/agent/patterns/TreeAutomaton.html" target="_top">Frames</a></li>
<li><a href="TreeAutomaton.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.kahina.core.data.agent.patterns</div>
<h2 title="Class TreeAutomaton" class="title">Class TreeAutomaton</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.kahina.core.data.agent.patterns.TreeAutomaton</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TreeAutomaton</span>
extends java.lang.Object</pre>
<div class="block">Implements a tree automaton as used for tree pattern matching by Kahina's breakpoint system.
 <p>
 This special kind of bottom-up tree automaton operates on a tree it is monitoring.
 It does not only annotate a static tree to determine whether it matches the encoded pattern,
 but is also able to adapt to changes to the tree without recalculating everything,
 if the component controlling changes in the tree structure (usually a subclass of <a href="../../../../../../org/kahina/core/behavior/KahinaTreeBehavior.html" title="class in org.kahina.core.behavior"><code>KahinaTreeBehavior</code></a>) announces the changes.
 <p>
 A tree automaton is usually compiled from a <a href="../../../../../../org/kahina/core/data/agent/KahinaBreakpoint.html" title="class in org.kahina.core.data.agent"><code>KahinaBreakpoint</code></a>, which contains
 If the associated breakpoint is active, the automaton will dispatch a <a href="../../../../../../org/kahina/core/data/agent/patterns/KahinaTreeMatchEvent.html" title="class in org.kahina.core.data.agent.patterns"><code>KahinaTreeMatchEvent</code></a> to its <code>KahinaController</code> as soon as the encoded pattern is found in the tree it monitors.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>jd</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#TreeAutomaton(org.kahina.core.data.agent.KahinaBreakpoint)">TreeAutomaton</a></strong>(<a href="../../../../../../org/kahina/core/data/agent/KahinaBreakpoint.html" title="class in org.kahina.core.data.agent">KahinaBreakpoint</a>&nbsp;bp)</code>
<div class="block">Class constructor specifying the breakpoint to be associated with the new automaton.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#addAcceptingState(int)">addAcceptingState</a></strong>(int&nbsp;state)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#addRule(org.kahina.core.data.agent.patterns.TreeAutomatonRule)">addRule</a></strong>(<a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomatonRule.html" title="class in org.kahina.core.data.agent.patterns">TreeAutomatonRule</a>&nbsp;rule)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#addState(int)">addState</a></strong>(int&nbsp;state)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#annotate(int,%20int)">annotate</a></strong>(int&nbsp;nodeID,
        int&nbsp;stateID)</code>
<div class="block">Annotates a single node in the tree with some state ID and checks whether this resulted in a change.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#getAnnotations(int)">getAnnotations</a></strong>(int&nbsp;nodeID)</code>
<div class="block">Retrieves the current annotations for a single tree node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#getChildAnnotations(int)">getChildAnnotations</a></strong>(int&nbsp;nodeID)</code>
<div class="block">Retrieves the current annotations for all the children of a single tree node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/kahina/core/KahinaInstance.html" title="class in org.kahina.core">KahinaInstance</a>&lt;?,?,?,?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#getKahina()">getKahina</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#nextStateNumber()">nextStateNumber</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#process(int)">process</a></strong>(int&nbsp;nodeID)</code>
<div class="block">Annotates a tree node with all possible labels according to the rules and
 recursively reannotates parents if it triggers a change in annotation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#setConstellationMatch(boolean)">setConstellationMatch</a></strong>(boolean&nbsp;constellationMatch)</code>
<div class="block">Determine whether the automaton reports matches directly above new nodes twice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#setKahina(org.kahina.core.KahinaInstance)">setKahina</a></strong>(<a href="../../../../../../org/kahina/core/KahinaInstance.html" title="class in org.kahina.core">KahinaInstance</a>&lt;?,?,?,?&gt;&nbsp;kahina)</code>
<div class="block">Sets the Kahina instance this automaton is to inform about matches.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#setTree(org.kahina.core.data.tree.KahinaTree)">setTree</a></strong>(<a href="../../../../../../org/kahina/core/data/tree/KahinaTree.html" title="class in org.kahina.core.data.tree">KahinaTree</a>&nbsp;tree)</code>
<div class="block">Sets or changes the tree this automaton is monitoring.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomaton.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TreeAutomaton(org.kahina.core.data.agent.KahinaBreakpoint)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TreeAutomaton</h4>
<pre>public&nbsp;TreeAutomaton(<a href="../../../../../../org/kahina/core/data/agent/KahinaBreakpoint.html" title="class in org.kahina.core.data.agent">KahinaBreakpoint</a>&nbsp;bp)</pre>
<div class="block">Class constructor specifying the breakpoint to be associated with the new automaton.
 The first thing to be called by a <code>KahinaBreakpoint</code> when compiled.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bp</code> - the breakpoint object to be associated with the new automaton</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setTree(org.kahina.core.data.tree.KahinaTree)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTree</h4>
<pre>public&nbsp;void&nbsp;setTree(<a href="../../../../../../org/kahina/core/data/tree/KahinaTree.html" title="class in org.kahina.core.data.tree">KahinaTree</a>&nbsp;tree)</pre>
<div class="block">Sets or changes the tree this automaton is monitoring.
 The automaton will silently recompute its annotations in bottom-up manner.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tree</code> - the tree model to be monitored by this automaton</dd></dl>
</li>
</ul>
<a name="setConstellationMatch(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConstellationMatch</h4>
<pre>public&nbsp;void&nbsp;setConstellationMatch(boolean&nbsp;constellationMatch)</pre>
<div class="block">Determine whether the automaton reports matches directly above new nodes twice.
 Default value: <code>false</code>, which is suitable in most contexts.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>constellationMatch</code> - <code>true</code> for extra reports, <code>false</code> to suppress them</dd></dl>
</li>
</ul>
<a name="getKahina()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKahina</h4>
<pre>public&nbsp;<a href="../../../../../../org/kahina/core/KahinaInstance.html" title="class in org.kahina.core">KahinaInstance</a>&lt;?,?,?,?&gt;&nbsp;getKahina()</pre>
</li>
</ul>
<a name="setKahina(org.kahina.core.KahinaInstance)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKahina</h4>
<pre>public&nbsp;void&nbsp;setKahina(<a href="../../../../../../org/kahina/core/KahinaInstance.html" title="class in org.kahina.core">KahinaInstance</a>&lt;?,?,?,?&gt;&nbsp;kahina)</pre>
<div class="block">Sets the Kahina instance this automaton is to inform about matches.
 Default is <code>null</code>, an instance must be determined for the breakpoint system to work.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>kahina</code> - the Kahina instance this automaton is to inform about matches</dd></dl>
</li>
</ul>
<a name="process(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>public&nbsp;void&nbsp;process(int&nbsp;nodeID)</pre>
<div class="block">Annotates a tree node with all possible labels according to the rules and
 recursively reannotates parents if it triggers a change in annotation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nodeID</code> - the node to be (re)annotated by the automaton</dd></dl>
</li>
</ul>
<a name="annotate(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>annotate</h4>
<pre>public&nbsp;boolean&nbsp;annotate(int&nbsp;nodeID,
               int&nbsp;stateID)</pre>
<div class="block">Annotates a single node in the tree with some state ID and checks whether this resulted in a change.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nodeID</code> - the node to be annotated</dd><dd><code>stateID</code> - the state ID the node is to be annotated with</dd>
<dt><span class="strong">Returns:</span></dt><dd>false if this annotation existed before, true if it was new</dd></dl>
</li>
</ul>
<a name="getAnnotations(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotations</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Integer&gt;&nbsp;getAnnotations(int&nbsp;nodeID)</pre>
<div class="block">Retrieves the current annotations for a single tree node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nodeID</code> - addresses the node whose annotations we want to get</dd>
<dt><span class="strong">Returns:</span></dt><dd>a set of stateIDs representing the annotations for the node</dd></dl>
</li>
</ul>
<a name="getChildAnnotations(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildAnnotations</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Integer&gt;&nbsp;getChildAnnotations(int&nbsp;nodeID)</pre>
<div class="block">Retrieves the current annotations for all the children of a single tree node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nodeID</code> - addresses the node whose children's annotations we want to get</dd>
<dt><span class="strong">Returns:</span></dt><dd>a set of stateIDs containing all the annotations for the children of the node</dd></dl>
</li>
</ul>
<a name="nextStateNumber()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextStateNumber</h4>
<pre>public&nbsp;int&nbsp;nextStateNumber()</pre>
</li>
</ul>
<a name="addState(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addState</h4>
<pre>public&nbsp;void&nbsp;addState(int&nbsp;state)</pre>
</li>
</ul>
<a name="addAcceptingState(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAcceptingState</h4>
<pre>public&nbsp;void&nbsp;addAcceptingState(int&nbsp;state)</pre>
</li>
</ul>
<a name="addRule(org.kahina.core.data.agent.patterns.TreeAutomatonRule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRule</h4>
<pre>public&nbsp;void&nbsp;addRule(<a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomatonRule.html" title="class in org.kahina.core.data.agent.patterns">TreeAutomatonRule</a>&nbsp;rule)</pre>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/kahina/core/data/agent/patterns/PatternFormatException.html" title="class in org.kahina.core.data.agent.patterns"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/kahina/core/data/agent/patterns/TreeAutomatonRule.html" title="class in org.kahina.core.data.agent.patterns"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/kahina/core/data/agent/patterns/TreeAutomaton.html" target="_top">Frames</a></li>
<li><a href="TreeAutomaton.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
